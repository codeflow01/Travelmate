## Travel Mate

## Overview

This app is built using the Expo CLI toolchain, styled with Tailwind CSS, and incorporates multiple libraries designed to facilitate mobile development practices, including consuming REST APIs. It utilises the iOS Simulator from Xcode for testing purposes. The scenario for this app is to connect users with popular places of interest and restaurants around the world. Through this application, users can search for any location they're interested in and find restaurants and sightseeing opportunities.

![enter image description here](https://github.com/codeflow01/Travelmate/blob/main/demo.png)

<br>

## Installation

### Prerequisite
Ensure you have the following installed:
- [Node.js](https://nodejs.org/en/)

### Installing iOS Simulator
>The iOS Simulator is a tool within Xcode that allows developers to test and debug iOS applications on Macs.
1. **Install Xcode:** Download and install Xcode from Mac App Store.
2. **Open Xcode:** Go to `Xcode > Settings > Platforms`, and install iOS 17.4 simulator from the list.
>**For Non-Mac Users:** If you do not have access to a Mac, you can install the Expo Go app on your iPhone and use it to scan a QR code generated after [starting the app](#Starting-the-Application).

### Cloning the Repository
To clone the repository, use the following command:
```bash
git clone https://github.com/UOA-CS732-SE750-Students-2024/cs732-assignment-zyin737.git
```

### Installing Dependencies
After cloning the demo, install the dependencies using npm:
```bash
cd reactnative_app
npm install
```

### Starting the Application
After installing the dependencies, you can start the demo app with the following command:
```bash
npx expo  start  --ios
```
If everything is set up *correctly*, the demo app should appear in your *iOS Simulator* shortly. 

<br>

## Discussion on Techniques

### Toolchain
![made with expo](https://img.shields.io/badge/MADE%20WITH%20EXPO-000.svg?style=for-the-badge&logo=expo&labelColor=4630eb&logoWidth=20)<br>
**_Expo CLI_**: A comprehensive set of tools and services built around React Native, serving as the primary toolchain for the development of the demo app[1]. 

- In general, to start a new React Native project using Expo CLI, you can simply run: `npx create-expo-app`, and follow the prompts.
- you can also install the Expo CLI globally on your machine using command: `npm install -g @expo/cli`. To create a new project, run: `expo init`.
 
> Another tool along with toolchain, Watchman: Manages file-watching operations, crucial for live reloading and feedback loops in React Native development. Install Watchman using command: `brew install watchman`.

### Testing

- **_iOS Simulator_**: Utilise the iOS Simulator, which is included with Xcode, for a quick representation of the app on iOS devices.

 - **_Physical Device_**: For real-world testing, install the Expo Go app on the physical devices. Start the project with Expo, and then scan the QR code generated by Expo Go with physical devices.

### Key Libraries

- **_NativeWind_**: Integrates Tailwind CSS directly into React Native, creating a universal styling system that facilitates a consistent design scheme across both **_React and React Native development_**[3].

To use this library, run the following command:
```bash
npm install nativewind
npm install --save-dev tailwindcss@3.3.2
```
To setup Tailwind CSS[4]:<br>
Run `npx tailwindcss init` to create a `tailwind.config.js` file, where you specify the paths to all of your component files to enable to apply Tailwindâ€™s utility classes effectively.
```bash
module.exports = {
"./App.{js,jsx,ts,tsx}",
"./screens/**/*.{js,ts,jsx,tsx}",
"./pages/**/*.{js,ts,jsx,tsx}",
"./components/**/*.{js,ts,jsx,tsx}",
  theme: {
    extend: {},
  },
  plugins: [],
}
``` 
Modify `babel.config.js` to add the Babel plugin.
```bash
module.exports = function (api) {
  api.cache(true);
  return {
    presets: ["babel-preset-expo"],
    plugins: ["nativewind/babel"],
  };
};
```
If everything is set up *correctly*, Tailwind CSS is ready to use.
<br>

- **_React Native Google Places Autocomplete_**: This library enhances the location search feature by providing auto-complete suggestions as users type, utilising and customising Google Places autocomplete components from the Google Places API[5]. To install this library, use the command `npm install react-native-google-places-autocomplete`. The demo adopts the basic address search functionality and extend its use to obtain geographic coordinates. These coordinates are then used as parameters in RapidAPI calls to retrieve relevant data.
```bash
<GooglePlacesAutocomplete
   GooglePlacesDetailsQuery={{ fields: "geometry" }}
   fetchDetails={true}
   placeholder="Start from here"
   onPress={(data, details = null) => {
     setBl_latitude(details?.geometry?.viewport?.southwest?.lat);
     setTr_latitude(details?.geometry?.viewport?.northeast?.lat);
     setBl_longitude(details?.geometry?.viewport?.southwest?.lng);
     setTr_longitude(details?.geometry?.viewport?.northeast?.lng);
     }}
query={{
  key: "apikey",
  language: "en",
  }}
/>
```
<br>

-  **_Axios_**: A widely used library that facilitates consuming REST APIs, enabling demo app functionalities such as discovering restaurants and sightseeing opportunities, leveraging geographic information supplied by the Google Places API. This library is used across JavaScript development environments, including both **_React and React Native_**, providing a consistent experience for making HTTP requests[6]. In this demo, Axios is employed to retrieve data from RapidAPI.
```bash
import axios from  "axios";
export  default  async  function getTripsData(bl_latitude, tr_latitude, bl_longitude, tr_longitude, type) {
  try {
    const response = await axios.get(
      `https://travel-advisor.p.rapidapi.com/${type}/list-in-boundary`,
      {
       params: {
         bl_latitude: bl_latitude ? bl_latitude : "-37.05901990116617",
         tr_latitude: tr_latitude ? tr_latitude : "-36.66060184426172",
         bl_longitude: bl_longitude ? bl_longitude : "174.4438160493033",
         tr_longitude: tr_longitude ? tr_longitude : "174.9684260722261",
         limit: '20',
         currency: 'NZD',
         lunit: 'km',
         lang: 'en_US'
      },
      headers: {
        "X-RapidAPI-Key": "apikey",
        "X-RapidAPI-Host": "travel-advisor.p.rapidapi.com",
      },
     }
   );
   const { data } = response;
   return data;
 } catch (error) {
   return  null;
 }
}
```
<br>

- **_Other Front-End Libraries_**: Libraries such as **_React Native Animatable, Activity Indicator, and Expo Vector-Icons_** provide easy-to-use animations and flat icons throughout the demo. Combined with Tailwind CSS for styling, these libraries form the foundation for enhancing user experience, showcasing the potential for creating an eye-catching mobile app.

<br>

## React Native vs. React

>React is a JavaScript library, while React Native is a framework that utilises React to create mobile user interfaces. React Native inherits all the functionalities of React. The **_similarities_** shared between these two include **_Component-Based Architecture , State Management, and Ecosystem and Tools_**. These commonalities allow developers to leverage familiar patterns and practices to build user experiences efficiently[7]. However, upon closer examination of the demo, key differences emerge that distinctly separate their use in web and mobile application development.

#### Key differences include:

- **_Difference in Syntax_**: In React, components are rendered using HTML-like tags such as `<p>`, `<div>`, `<h1>`, etc. In contrast, React Native renders native components using tags like `<View>`, `<Text>`, `<Image>`, etc., instead of HTML-like components. This difference is apparent in the demo codebase, i.e.
```bash
<View className="flex-row items-center justify-between px-5 mt-4">
  <Text className="font-semibold text-[21px]">
   Recommendations
  </Text>
<View>
```
and
```bash
<Image
  source={detailData?.photo?.images?.large?.url
  ? { uri: detailData?.photo?.images?.large?.url } : require("../assets/dummy.jpg")}
  className="w-full h-[300px] rounded-md"
/>
```
<br>

-   **_Difference in Navigation_**: React uses `react-router-dom` library to handle navigation between pages on click events, whereas, in the demo, React Native utilises `react-navigation/native` and `react-navigation/native-stack` to manage screen transitions and maintain the navigation stack, i.e.
```bash
import { NavigationContainer } from  "@react-navigation/native";
import { createNativeStackNavigator } from  "@react-navigation/native-stack";
import HomeScreen from  "./screens/HomeScreen";
import ContentPage from  "./screens/ContentPage";
import DetailView from  "./screens/DetailView";
const Stack = createNativeStackNavigator();
export  default  function App() {
  return (
    <NavigationContainer>
      <Stack.Navigator>
        <Stack.Screen  name="Home"  component={HomeScreen}  />
        <Stack.Screen  name="Content"  component={ContentPage}  />
        <Stack.Screen  name="Detail"  component={DetailView}  />
      </Stack.Navigator>
   </NavigationContainer>
  );
}
```
<br>

-   **_Difference in Styling_**: React uses traditional CSS files, inline styles, or CSS modules for styling, utilising classic CSS properties and selectors to style components. React Native leverages a JavaScript object to style components, employing a syntax that closely resembles CSS but is not identical. However, in this demo, Tailwind CSS is integrated to streamline the styling process across React and React Native.

<br>

## Reference

[1]: Expo documentation: https://docs.expo.dev/get-started/installation/<br>
[2]: More about Watchman: https://facebook.github.io/watchman/<br>
[3]: NativeWind documentation: https://www.nativewind.dev/overview/<br>
[4]: Tailwind CSS configuration with Expo: https://www.nativewind.dev/quick-starts/expo<br>
[5]: Google maps search component for React Native: https://www.npmjs.com/package/react-native-google-places-autocomplete<br>
[6]: Axios documentation: https://www.npmjs.com/package/react-native-google-places-autocomplete<br>
[7]: React vs React Native: https://radixweb.com/blog/react-vs-react-native<br>
